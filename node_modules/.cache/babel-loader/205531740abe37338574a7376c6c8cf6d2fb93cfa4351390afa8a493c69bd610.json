{"ast":null,"code":"import { collection, addDoc, getDocs, orderBy, query, doc, updateDoc, deleteDoc, onSnapshot } from 'firebase/firestore';\nimport { db } from '../firebase';\nexport async function createEvent(data) {\n  return addDoc(collection(db, 'events'), {\n    ...data,\n    createdAt: new Date()\n  });\n}\nexport async function fetchEventsOnce() {\n  const q = query(collection(db, 'events'), orderBy('createdAt', 'desc'));\n  const snap = await getDocs(q);\n  return snap.docs.map(d => ({\n    id: d.id,\n    ...d.data()\n  }));\n}\nexport function listenEvents(callback) {\n  const q = query(collection(db, 'events'), orderBy('createdAt', 'desc'));\n  return onSnapshot(q, snapshot => {\n    const events = snapshot.docs.map(d => ({\n      id: d.id,\n      ...d.data()\n    }));\n    callback(events);\n  });\n}\nexport function updateEvent(eventId, upd) {\n  return updateDoc(doc(db, 'events', eventId), upd);\n}\nexport function deleteEvent(eventId) {\n  return deleteDoc(doc(db, 'events', eventId));\n}","map":{"version":3,"names":["collection","addDoc","getDocs","orderBy","query","doc","updateDoc","deleteDoc","onSnapshot","db","createEvent","data","createdAt","Date","fetchEventsOnce","q","snap","docs","map","d","id","listenEvents","callback","snapshot","events","updateEvent","eventId","upd","deleteEvent"],"sources":["C:/Users/syami/Desktop/VolunteerConnect/src/services/eventService.js"],"sourcesContent":["import {\r\ncollection,\r\naddDoc,\r\ngetDocs,\r\norderBy,\r\nquery,\r\ndoc,\r\nupdateDoc,\r\ndeleteDoc,\r\nonSnapshot\r\n} from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\n\r\n\r\nexport async function createEvent(data) {\r\nreturn addDoc(collection(db, 'events'), { ...data, createdAt: new Date() });\r\n}\r\n\r\n\r\nexport async function fetchEventsOnce() {\r\nconst q = query(collection(db, 'events'), orderBy('createdAt', 'desc'));\r\nconst snap = await getDocs(q);\r\nreturn snap.docs.map(d => ({ id: d.id, ...d.data() }));\r\n}\r\n\r\n\r\nexport function listenEvents(callback) {\r\nconst q = query(collection(db, 'events'), orderBy('createdAt', 'desc'));\r\nreturn onSnapshot(q, snapshot => {\r\nconst events = snapshot.docs.map(d => ({ id: d.id, ...d.data() }));\r\ncallback(events);\r\n});\r\n}\r\n\r\n\r\nexport function updateEvent(eventId, upd) {\r\nreturn updateDoc(doc(db, 'events', eventId), upd);\r\n}\r\n\r\n\r\nexport function deleteEvent(eventId) {\r\nreturn deleteDoc(doc(db, 'events', eventId));\r\n}"],"mappings":"AAAA,SACAA,UAAU,EACVC,MAAM,EACNC,OAAO,EACPC,OAAO,EACPC,KAAK,EACLC,GAAG,EACHC,SAAS,EACTC,SAAS,EACTC,UAAU,QACH,oBAAoB;AAC3B,SAASC,EAAE,QAAQ,aAAa;AAGhC,OAAO,eAAeC,WAAWA,CAACC,IAAI,EAAE;EACxC,OAAOV,MAAM,CAACD,UAAU,CAACS,EAAE,EAAE,QAAQ,CAAC,EAAE;IAAE,GAAGE,IAAI;IAAEC,SAAS,EAAE,IAAIC,IAAI,CAAC;EAAE,CAAC,CAAC;AAC3E;AAGA,OAAO,eAAeC,eAAeA,CAAA,EAAG;EACxC,MAAMC,CAAC,GAAGX,KAAK,CAACJ,UAAU,CAACS,EAAE,EAAE,QAAQ,CAAC,EAAEN,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;EACvE,MAAMa,IAAI,GAAG,MAAMd,OAAO,CAACa,CAAC,CAAC;EAC7B,OAAOC,IAAI,CAACC,IAAI,CAACC,GAAG,CAACC,CAAC,KAAK;IAAEC,EAAE,EAAED,CAAC,CAACC,EAAE;IAAE,GAAGD,CAAC,CAACR,IAAI,CAAC;EAAE,CAAC,CAAC,CAAC;AACtD;AAGA,OAAO,SAASU,YAAYA,CAACC,QAAQ,EAAE;EACvC,MAAMP,CAAC,GAAGX,KAAK,CAACJ,UAAU,CAACS,EAAE,EAAE,QAAQ,CAAC,EAAEN,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;EACvE,OAAOK,UAAU,CAACO,CAAC,EAAEQ,QAAQ,IAAI;IACjC,MAAMC,MAAM,GAAGD,QAAQ,CAACN,IAAI,CAACC,GAAG,CAACC,CAAC,KAAK;MAAEC,EAAE,EAAED,CAAC,CAACC,EAAE;MAAE,GAAGD,CAAC,CAACR,IAAI,CAAC;IAAE,CAAC,CAAC,CAAC;IAClEW,QAAQ,CAACE,MAAM,CAAC;EAChB,CAAC,CAAC;AACF;AAGA,OAAO,SAASC,WAAWA,CAACC,OAAO,EAAEC,GAAG,EAAE;EAC1C,OAAOrB,SAAS,CAACD,GAAG,CAACI,EAAE,EAAE,QAAQ,EAAEiB,OAAO,CAAC,EAAEC,GAAG,CAAC;AACjD;AAGA,OAAO,SAASC,WAAWA,CAACF,OAAO,EAAE;EACrC,OAAOnB,SAAS,CAACF,GAAG,CAACI,EAAE,EAAE,QAAQ,EAAEiB,OAAO,CAAC,CAAC;AAC5C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}