{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\syami\\\\Desktop\\\\VolunteerConnect\\\\src\\\\contexts\\\\AuthContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { onAuthStateChanged, signOut } from 'firebase/auth';\nimport { auth } from '../firebase';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nexport function useAuth() {\n  _s();\n  return useContext(AuthContext);\n}\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function AuthProvider({\n  children\n}) {\n  _s2();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, async user => {\n      setCurrentUser(user);\n      if (user) {\n        const ref = doc(db, 'users', user.uid);\n        const snap = await getDoc(ref);\n        if (snap.exists()) setProfile(snap.data());else setProfile(null);\n      } else {\n        setProfile(null);\n      }\n      setLoading(false);\n    });\n    return () => unsub();\n  }, []);\n  const logout = () => signOut(auth);\n  const value = {\n    currentUser,\n    profile,\n    loading,\n    logout\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: !loading && children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 1\n  }, this);\n}\n_s2(AuthProvider, \"2AlTbxbuGm8Vh1m3SqonCjPNcHE=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","onAuthStateChanged","signOut","auth","doc","getDoc","db","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","AuthProvider","children","_s2","currentUser","setCurrentUser","profile","setProfile","loading","setLoading","unsub","user","ref","uid","snap","exists","data","logout","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/syami/Desktop/VolunteerConnect/src/contexts/AuthContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { onAuthStateChanged, signOut } from 'firebase/auth';\r\nimport { auth } from '../firebase';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\n\r\n\r\nconst AuthContext = createContext();\r\n\r\n\r\nexport function useAuth() {\r\nreturn useContext(AuthContext);\r\n}\r\n\r\n\r\nexport function AuthProvider({ children }) {\r\nconst [currentUser, setCurrentUser] = useState(null);\r\nconst [profile, setProfile] = useState(null);\r\nconst [loading, setLoading] = useState(true);\r\n\r\n\r\nuseEffect(() => {\r\nconst unsub = onAuthStateChanged(auth, async (user) => {\r\nsetCurrentUser(user);\r\nif (user) {\r\nconst ref = doc(db, 'users', user.uid);\r\nconst snap = await getDoc(ref);\r\nif (snap.exists()) setProfile(snap.data());\r\nelse setProfile(null);\r\n} else {\r\nsetProfile(null);\r\n}\r\nsetLoading(false);\r\n});\r\n\r\n\r\nreturn () => unsub();\r\n}, []);\r\n\r\n\r\nconst logout = () => signOut(auth);\r\n\r\n\r\nconst value = { currentUser, profile, loading, logout };\r\n\r\n\r\nreturn (\r\n<AuthContext.Provider value={value}>\r\n{!loading && children}\r\n</AuthContext.Provider>\r\n);\r\n}"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC7E,SAASC,kBAAkB,EAAEC,OAAO,QAAQ,eAAe;AAC3D,SAASC,IAAI,QAAQ,aAAa;AAClC,SAASC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAChD,SAASC,EAAE,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGjC,MAAMC,WAAW,gBAAGZ,aAAa,CAAC,CAAC;AAGnC,OAAO,SAASa,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAC1B,OAAOb,UAAU,CAACW,WAAW,CAAC;AAC9B;AAACE,EAAA,CAFeD,OAAO;AAKvB,OAAO,SAASE,YAAYA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,GAAA;EAC3C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAG5CD,SAAS,CAAC,MAAM;IAChB,MAAMsB,KAAK,GAAGpB,kBAAkB,CAACE,IAAI,EAAE,MAAOmB,IAAI,IAAK;MACvDN,cAAc,CAACM,IAAI,CAAC;MACpB,IAAIA,IAAI,EAAE;QACV,MAAMC,GAAG,GAAGnB,GAAG,CAACE,EAAE,EAAE,OAAO,EAAEgB,IAAI,CAACE,GAAG,CAAC;QACtC,MAAMC,IAAI,GAAG,MAAMpB,MAAM,CAACkB,GAAG,CAAC;QAC9B,IAAIE,IAAI,CAACC,MAAM,CAAC,CAAC,EAAER,UAAU,CAACO,IAAI,CAACE,IAAI,CAAC,CAAC,CAAC,CAAC,KACtCT,UAAU,CAAC,IAAI,CAAC;MACrB,CAAC,MAAM;QACPA,UAAU,CAAC,IAAI,CAAC;MAChB;MACAE,UAAU,CAAC,KAAK,CAAC;IACjB,CAAC,CAAC;IAGF,OAAO,MAAMC,KAAK,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAGN,MAAMO,MAAM,GAAGA,CAAA,KAAM1B,OAAO,CAACC,IAAI,CAAC;EAGlC,MAAM0B,KAAK,GAAG;IAAEd,WAAW;IAAEE,OAAO;IAAEE,OAAO;IAAES;EAAO,CAAC;EAGvD,oBACApB,OAAA,CAACC,WAAW,CAACqB,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAhB,QAAA,EAClC,CAACM,OAAO,IAAIN;EAAQ;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEvB;AAACpB,GAAA,CApCeF,YAAY;AAAAuB,EAAA,GAAZvB,YAAY;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}